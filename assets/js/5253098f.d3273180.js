"use strict";(self.webpackChunkdocu=self.webpackChunkdocu||[]).push([[9736],{76613:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var o=n(83117),i=(n(67294),n(3905));const r={},a="Deploy Airbyte on Kubernetes",l={unversionedId:"deploying-airbyte/on-kubernetes",id:"deploying-airbyte/on-kubernetes",title:"Deploy Airbyte on Kubernetes",description:"This page guides you through deploying Airbyte Open Source on Kubernetes.",source:"@site/../docs/deploying-airbyte/on-kubernetes.md",sourceDirName:"deploying-airbyte",slug:"/deploying-airbyte/on-kubernetes",permalink:"/deploying-airbyte/on-kubernetes",draft:!1,editUrl:"https://github.com/airbytehq/airbyte/blob/master/docs/../docs/deploying-airbyte/on-kubernetes.md",tags:[],version:"current",frontMatter:{},sidebar:"mySidebar",previous:{title:"On GCP (Compute Engine)",permalink:"/deploying-airbyte/on-gcp-compute-engine"},next:{title:"On Plural",permalink:"/deploying-airbyte/on-plural"}},s={},u=[{value:"Requirements",id:"requirements",level:2},{value:"Install and configure <code>kubectl </code>",id:"install-and-configure-kubectl-",level:2},{value:"Configure Logs",id:"configure-logs",level:2},{value:"Default configuration",id:"default-configuration",level:3},{value:"Custom configuration",id:"custom-configuration",level:3},{value:"Customize the <code>Minio</code> log location",id:"customize-the-minio-log-location",level:3},{value:"Configure the Custom <code>S3</code> Log Location\u200b",id:"configure-the-custom-s3-log-location",level:3},{value:"Configure the Custom GCS Log Location\u200b",id:"configure-the-custom-gcs-log-location",level:3},{value:"Launch Airbyte",id:"launch-airbyte",level:2},{value:"Deploying Airbyte on Kubernetes in production",id:"deploying-airbyte-on-kubernetes-in-production",level:2},{value:"Setting resource limits",id:"setting-resource-limits",level:3},{value:"Increasing job parallelism",id:"increasing-job-parallelism",level:3},{value:"Cloud Logging",id:"cloud-logging",level:3},{value:"Using external databases",id:"using-external-databases",level:3},{value:"Customizing Airbytes Manifests",id:"customizing-airbytes-manifests",level:2},{value:"View Raw Manifests",id:"view-raw-manifests",level:3},{value:"Helm Charts",id:"helm-charts",level:3},{value:"Operator Guide",id:"operator-guide",level:2},{value:"View API server logs",id:"view-api-server-logs",level:3},{value:"Connector Container Logs\u200b",id:"connector-container-logs",level:3},{value:"Resizing Volumes",id:"resizing-volumes",level:3},{value:"Copy Files in Volumes",id:"copy-files-in-volumes",level:3},{value:"Listing Files",id:"listing-files",level:3},{value:"Reading Files",id:"reading-files",level:3},{value:"Persistent storage on Google Kubernetes Engine(GKE) regional cluster",id:"persistent-storage-on-google-kubernetes-enginegke-regional-cluster",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"deploy-airbyte-on-kubernetes"},"Deploy Airbyte on Kubernetes"),(0,i.kt)("p",null,"This page guides you through deploying Airbyte Open Source on Kubernetes. "),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("p",null,"To test locally, you can use one of the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/desktop/"},"Docker Desktop")," with ",(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/desktop/kubernetes/#enable-kubernetes"},"Kubernetes")," enabled"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.docker.com/desktop/kubernetes/#enable-kubernetes"},"Minikube")," with at least 4GB RAM"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://kind.sigs.k8s.io/docs/user/quick-start/"},"Kind"))),(0,i.kt)("p",null,"To test on Google Kubernetes Engine(GKE) create a standard zonal cluster."),(0,i.kt)("p",null,"To test on  Amazon Elastic Kubernetes Service (Amazon EKS), install eksctl and then create a cluster."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Note:"))," Airbyte deployment is tested on GKE and EKS with version v1.19 and above. If you run into problems, reach out on the ",(0,i.kt)("inlineCode",{parentName:"p"},"#airbyte-help")," channel in our Slack or create an issue on GitHub."),(0,i.kt)("h2",{id:"install-and-configure-kubectl-"},"Install and configure ",(0,i.kt)("inlineCode",{parentName:"h2"},"kubectl ")),(0,i.kt)("p",null,"Install ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl")," and run the following command to configure it and connect to your cluster:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"kubectl use-context <my-cluster-name>\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"To configure ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl")," in ",(0,i.kt)("inlineCode",{parentName:"p"},"GKE"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Initialize the ",(0,i.kt)("inlineCode",{parentName:"li"},"gcloud")," cli."),(0,i.kt)("li",{parentName:"ul"},"To view cluster details, go to the ",(0,i.kt)("inlineCode",{parentName:"li"},"cluster")," page in the Google Cloud Console and click ",(0,i.kt)("inlineCode",{parentName:"li"},"connect"),". Run the following command to test cluster details:\n",(0,i.kt)("inlineCode",{parentName:"li"},"gcloud container clusters get-credentials <CLUSTER_NAME> --zone <ZONE_NAME> --project <PROJECT_NAME>"),"."),(0,i.kt)("li",{parentName:"ul"},"To view contexts, run: ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl config get-contexts"),"."),(0,i.kt)("li",{parentName:"ul"},"To access the cluster from ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl")," run : ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl config use-context <gke context>"),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"To configure ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl")," in  ",(0,i.kt)("inlineCode",{parentName:"p"},"EKS"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html"},"Configure AWS CLI")," to connect to your project."),(0,i.kt)("li",{parentName:"ul"},"Install ",(0,i.kt)("a",{parentName:"li",href:"https://eksctl.io/introduction/"},(0,i.kt)("inlineCode",{parentName:"a"},"eksctl")),"."),(0,i.kt)("li",{parentName:"ul"},"To Make contexts available to ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl"),", run ",(0,i.kt)("inlineCode",{parentName:"li"},"eksctl utils write-kubeconfig --cluster=<CLUSTER NAME>"),"  "),(0,i.kt)("li",{parentName:"ul"},"To view available contexts,  run ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl config get-contexts"),"."),(0,i.kt)("li",{parentName:"ul"},"To Access the cluster run ",(0,i.kt)("inlineCode",{parentName:"li"},"kubectl config use-context <eks context>"),".")))),(0,i.kt)("h2",{id:"configure-logs"},"Configure Logs"),(0,i.kt)("h3",{id:"default-configuration"},"Default configuration"),(0,i.kt)("p",null,"Airbyte comes with a self-contained Kubernetes deployment and uses a stand-alone ",(0,i.kt)("inlineCode",{parentName:"p"},"Minio")," deployment in both the ",(0,i.kt)("inlineCode",{parentName:"p"},"dev")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"stable")," versions. Logs are published to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Minio")," deployment by default."),(0,i.kt)("p",null,"To send the logs to the local ",(0,i.kt)("inlineCode",{parentName:"p"},"Minio")," deployment, make sure the specified credentials have both read and write permissions."),(0,i.kt)("h3",{id:"custom-configuration"},"Custom configuration"),(0,i.kt)("p",null,"Airbyte supports logging to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Minio")," layer, ",(0,i.kt)("inlineCode",{parentName:"p"},"S3")," bucket, and ",(0,i.kt)("inlineCode",{parentName:"p"},"GCS")," bucket."),(0,i.kt)("h3",{id:"customize-the-minio-log-location"},"Customize the ",(0,i.kt)("inlineCode",{parentName:"h3"},"Minio")," log location"),(0,i.kt)("p",null,"To write to a custom location, update the following ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," variable in the ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable")," directory (you will find this directory at the location you launched Airbyte)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"S3_LOG_BUCKET=<your_minio_bucket_to_write_logs_in>\nAWS_ACCESS_KEY_ID=<your_minio_access_key>\nAWS_SECRET_ACCESS_KEY=<your_minio_secret_key>\nS3_MINIO_ENDPOINT=<endpoint_where_minio_is_deployed_at>\nS3_LOG_BUCKET_REGION=\n")),(0,i.kt)("p",null,"Set the",(0,i.kt)("inlineCode",{parentName:"p"},"S3_PATH_STYLE_ACCESS variable to"),"true",(0,i.kt)("inlineCode",{parentName:"p"},".\nLet the "),"S3_LOG_BUCKET_REGION` variable remain empty."),(0,i.kt)("h3",{id:"configure-the-custom-s3-log-location"},"Configure the Custom ",(0,i.kt)("inlineCode",{parentName:"h3"},"S3")," Log Location\u200b"),(0,i.kt)("p",null,"For the ",(0,i.kt)("inlineCode",{parentName:"p"},"S3")," log location, create an S3 bucket with your AWS credentials."),(0,i.kt)("p",null,"To write to a custom location, update the following ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," variable in the ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable")," directory (you can find this directory at the location you launched Airbyte)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"S3_LOG_BUCKET=<your_s3_bucket_to_write_logs_in>\nS3_LOG_BUCKET_REGION=<your_s3_bucket_region>\n# Set this to empty.\nS3_MINIO_ENDPOINT=\n# Set this to empty.\nS3_PATH_STYLE_ACCESS=\n")),(0,i.kt)("p",null,"Replace the following variable in ",(0,i.kt)("inlineCode",{parentName:"p"},".secrets")," file in the ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable")," directory:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"AWS_ACCESS_KEY_ID=<your_aws_access_key_id>\nAWS_SECRET_ACCESS_KEY=<your_aws_secret_access_key>\n")),(0,i.kt)("h3",{id:"configure-the-custom-gcs-log-location"},"Configure the Custom GCS Log Location\u200b"),(0,i.kt)("p",null,"Create a GCS bucket and  GCP credentials if you haven\u2019t already. Make sure your GCS log bucket has read/write permission."),(0,i.kt)("p",null,"To configure the custom log location:"),(0,i.kt)("p",null,"Base encode the GCP JSON secret with the following command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# The output of this command will be a Base64 string.\n$ cat gcp.json | base64\n")),(0,i.kt)("p",null,"To populate the ",(0,i.kt)("inlineCode",{parentName:"p"},"gcs-log-creds")," secrets with the Base64-encoded credential, take the encoded GCP JSON secret from the previous step and add it to ",(0,i.kt)("inlineCode",{parentName:"p"},"secret-gcs-log-creds.yaml")," file as the value for ",(0,i.kt)("inlineCode",{parentName:"p"},"gcp.json")," key. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"apiVersion: v1\nkind: Secret\nmetadata:\n name: gcs-log-creds\n namespace: default\ndata:\n gcp.json: <base64-encoded-string>\n")),(0,i.kt)("p",null,"In the ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable")," directory, update the  ",(0,i.kt)("inlineCode",{parentName:"p"},"GCS_LOG_BUCKET")," with your GCS log bucket credentials:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GCS_LOG_BUCKET=<your_GCS_bucket_to_write_logs_in>\n")),(0,i.kt)("p",null,"Modify ",(0,i.kt)("inlineCode",{parentName:"p"},"GOOGLE_APPLICATION_CREDENTIALS")," to the path to ",(0,i.kt)("inlineCode",{parentName:"p"},"gcp.json")," in the ",(0,i.kt)("inlineCode",{parentName:"p"},".secrets")," file at ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable")," directory."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"# The path the GCS creds are written to. Unless you know what you are doing, use the below default value.\n\nGOOGLE_APPLICATION_CREDENTIALS=/secrets/gcs-log-creds/gcp.json\n")),(0,i.kt)("h2",{id:"launch-airbyte"},"Launch Airbyte"),(0,i.kt)("p",null,"The following commands will help you launch Airbyte:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"git clone https://github.com/airbytehq/airbyte.git\ncd airbyte\nkubectl apply -k kube/overlays/stable\n")),(0,i.kt)("p",null,"It might take 2 to 5 minutes for the setup depending on your network and system configuration."),(0,i.kt)("p",null,"To check the pod status, run ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl get pods | grep airbyte"),"."),(0,i.kt)("p",null,"If you are on Windows, run ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl get pods")," to the list of pods."),(0,i.kt)("p",null,"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl port-forward svc/airbyte-webapp-svc 8000:80"),"  to allow access to the UI/API.\nNavigate to http://localhost:8000 in your browser to verify the deployment."),(0,i.kt)("h2",{id:"deploying-airbyte-on-kubernetes-in-production"},"Deploying Airbyte on Kubernetes in production"),(0,i.kt)("h3",{id:"setting-resource-limits"},"Setting resource limits"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Core container pods "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"To provide different resource requirements for core pods, set resource limits in the  ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/overlays/stable-with-resource-limits/set-resource-limits.yaml")," file.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"To launch Airbyte with new resource limits, \tuse the `kubectl apply -k kube/overlays/stable-with-resource-limits command.")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Connector pods"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"By default, connector pods launch without resource limits. To add resource limit, configure the ",(0,i.kt)("inlineCode",{parentName:"li"},"Docker resource limits")," section of the ",(0,i.kt)("inlineCode",{parentName:"li"},".env")," file in the ",(0,i.kt)("inlineCode",{parentName:"li"},"kube/overlays")," directory."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Volume sizes"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"To specify different volume sizes for the persistent volume backing Airbyte, modify ",(0,i.kt)("inlineCode",{parentName:"li"},"kube/resources/volume-*"),"  files.")))),(0,i.kt)("h3",{id:"increasing-job-parallelism"},"Increasing job parallelism"),(0,i.kt)("p",null,"The ability to run parallel jobs like getting specs, checking connections, discovering schemas and performing syncs is limited by a few factors. ",(0,i.kt)("inlineCode",{parentName:"p"},"Airbyte-worker-pods")," picks and executes the job. Increasing the number of workers will allow more jobs to be processed."),(0,i.kt)("p",null,"To create more worker pods, increase the number of replicas for the ",(0,i.kt)("inlineCode",{parentName:"p"},"airbyte-worker")," deployment. Refer to examples of increasing worker pods in a Kustomization patch in ",(0,i.kt)("inlineCode",{parentName:"p"},"airbyte/kube/overlays/dev-integration-test/kustomization.yaml")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"airbyte/kube/overlays/dev-integration-test/parallelize-worker.yaml")," "),(0,i.kt)("p",null,"To limit the exposed ports in ",(0,i.kt)("inlineCode",{parentName:"p"},".env"),"  file, set the value to ",(0,i.kt)("inlineCode",{parentName:"p"},"TEMPORAL_WORKER_PORTS"),". You can run jobs parallely at each exposed port.\nIf you do not have enough ports to communicate, the jobs might not complete or halt until ports become available."),(0,i.kt)("p",null,"You can set a limit for the maximum parallel jobs that run on the pod. Set the value to ",(0,i.kt)("inlineCode",{parentName:"p"},"MAX_SPEC_WORKERS"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"MAX_CHECK_WORKERS"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"MAX_DISCOVER_WORKERS"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"MAX_SYNC_WORKERS")," variables in the worker pod deployment and not in ",(0,i.kt)("inlineCode",{parentName:"p"},".env")," file. You can use these values to create separate worker deployments for each type of worker with different resource allocations."),(0,i.kt)("h3",{id:"cloud-logging"},"Cloud Logging"),(0,i.kt)("p",null,"Airbyte writes logs to two different directories: The ",(0,i.kt)("inlineCode",{parentName:"p"},"App-logging")," directory and the ",(0,i.kt)("inlineCode",{parentName:"p"},"job-logging")," directory. App logs, server logs, and scheduler logs are written to the ",(0,i.kt)("inlineCode",{parentName:"p"},"app-logging")," directory. Job logs are written to the ",(0,i.kt)("inlineCode",{parentName:"p"},"job-logging")," directory. Both directories live at the top level. For example, the app logging directory may live at ",(0,i.kt)("inlineCode",{parentName:"p"},"s3://log-bucket/app-logging"),". We recommend having a dedicated logging bucket and not using it for other purposes."),(0,i.kt)("p",null,"Airbyte publishes logs every minute, so it\u2019s normal to have minute-long log delays. Cloud Storages do not support append operations. Each publisher creates its own log files, which means you will have hundreds of files in your log bucket."),(0,i.kt)("p",null,"Each log file is uncompressed and named ",(0,i.kt)("inlineCode",{parentName:"p"},"{yyyyMMddHH24mmss}_{podname}_{UUID}"),".\nTo view logs, navigate to the relevant folder and download the file for the time period you want."),(0,i.kt)("h3",{id:"using-external-databases"},"Using external databases"),(0,i.kt)("p",null,"You can configure a custom database instead of a simple ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")," container in Kubernetes. This separate instance (AWS RDS or Google Cloud SQL) should be easier and safer to maintain than Postgres on your cluster."),(0,i.kt)("h2",{id:"customizing-airbytes-manifests"},"Customizing Airbytes Manifests"),(0,i.kt)("p",null,"We use Kustomize to allow configuration for different environments. Our shared resources are in the ",(0,i.kt)("inlineCode",{parentName:"p"},"kube/resources")," directory. We recommend defining overlays for each environment and creating your own overlay to customize your deployments. The overlay can live in your own version control system.\nAn example of ",(0,i.kt)("inlineCode",{parentName:"p"},"kustomization.yaml"),"  file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"apiVersion: kustomize.config.k8s.io/v1beta1\nkind: Kustomization\n\nbases: https://github.com/airbytehq/airbyte.git/kube/overlays/stable?ref=master\n")),(0,i.kt)("h3",{id:"view-raw-manifests"},"View Raw Manifests"),(0,i.kt)("p",null,"To view manifests for a specific overlay that Kustomize applies to your Kubernetes cluster, run ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl kustomize kube/overlays/stable"),". "),(0,i.kt)("h3",{id:"helm-charts"},"Helm Charts"),(0,i.kt)("p",null,"For detailed information about Helm Charts, refer to the charts ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/airbytehq/airbyte/tree/master/charts/airbyte"},"readme")," file."),(0,i.kt)("h2",{id:"operator-guide"},"Operator Guide"),(0,i.kt)("h3",{id:"view-api-server-logs"},"View API server logs"),(0,i.kt)("p",null,"You can view real-time logs in ",(0,i.kt)("inlineCode",{parentName:"p"},"kubectl logs deployments/airbyte-server")," directory and download them from the Admin Tab."),(0,i.kt)("h3",{id:"connector-container-logs"},"Connector Container Logs\u200b"),(0,i.kt)("p",null,"All logs can be accessed by viewing the scheduler logs. As for connector container logs, use Airbyte UI or Airbyte API to isolate them for a specific job attempt and for easier understanding. Connector pods launched by Airbyte will not relay logs directly to Kubernetes logging. You must access these logs through Airbyte."),(0,i.kt)("h3",{id:"resizing-volumes"},"Resizing Volumes"),(0,i.kt)("p",null,"To resize a volume, change the ",(0,i.kt)("inlineCode",{parentName:"p"},".spec.resources.requests.storage")," value. After re-applying, extend the mount(if that operation is supported for your mount type). For a production deployment, track the usage of volumes to ensure they don't run out of space."),(0,i.kt)("h3",{id:"copy-files-in-volumes"},"Copy Files in Volumes"),(0,i.kt)("p",null,"To copy files, use the ",(0,i.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#cp"},(0,i.kt)("inlineCode",{parentName:"a"},"cp")," command in kubectl"),"."),(0,i.kt)("h3",{id:"listing-files"},"Listing Files"),(0,i.kt)("p",null,"To list files, run:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"kubectl exec -it airbyte-server-6b5747df5c-bj4fx ls /tmp/workspace/8")),(0,i.kt)("h3",{id:"reading-files"},"Reading Files"),(0,i.kt)("p",null,"To read files, run:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"kubectl exec -it airbyte-server-6b5747df5c-bj4fx cat /tmp/workspace/8/0/logs.log")),(0,i.kt)("h3",{id:"persistent-storage-on-google-kubernetes-enginegke-regional-cluster"},"Persistent storage on Google Kubernetes Engine(GKE) regional cluster"),(0,i.kt)("p",null,"Running Airbyte on a GKE regional cluster requires enabling persistent regional storage. Start with ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/gce-pd-csi-driver#enabling_the_on_an_existing_cluster"},"enabling CSE driver")," on GKE and add ",(0,i.kt)("inlineCode",{parentName:"p"},"storageClassName: standard-rwo")," to the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/airbytehq/airbyte/blob/86ee2ad05bccb4aca91df2fb07c412efde5ba71c/kube/resources/volume-configs.yaml"},"volume-configs.yamll"),"."),(0,i.kt)("p",null,"Sample ",(0,i.kt)("inlineCode",{parentName:"p"},"volume-configs.yaml")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"apiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: airbyte-volume-configs\n  labels:\n    airbyte: volume-configs\nspec:\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 500Mi\n  storageClassName: standard-rwo\n")),(0,i.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,i.kt)("p",null,"If you encounter any issues, reach out to our community on ",(0,i.kt)("a",{parentName:"p",href:"https://slack.airbyte.com/"},"Slack"),"."))}c.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=o.createContext({}),u=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return n?o.createElement(k,a(a({ref:t},p),{},{components:n})):o.createElement(k,a({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,a[1]=l;for(var u=2;u<r;u++)a[u]=n[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);